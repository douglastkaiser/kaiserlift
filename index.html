<!DOCTYPE html>
<html>
<head><title>KaiserLift Previews</title></head>
<body>
  <h1>KaiserLift Preview Deployments</h1>
  <p>Preview deployments are organized by PR number.</p>
  <ul id="pr-list"></ul>
  <script>
    // List PR directories
    fetch('.')
      .then(r => r.text())
      .then(html => {
        const dirs = [...html.matchAll(/pr-(\d+)/g)].map(m => m[1]);
        const list = document.getElementById('pr-list');
        [...new Set(dirs)].sort((a,b) => b-a).forEach(pr => {
          const li = document.createElement('li');
          li.innerHTML = '<a href="pr-' + pr + '/">PR #' + pr + '</a>';
          list.appendChild(li);
        });
      });
  </script>
</body>
</html>
